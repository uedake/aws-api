{
    "openapi": "3.0.0",
    "info": {
      "version": "1.0.0",
      "title": "Event"
    },
    "paths": {},
    "components": {
      "schemas": {
        "Event": {
          "type": "object",
          "required": [
            "headers",
            "isBase64Encoded",
            "path",
            "pathParameters",
            "multiValueQueryStringParameters",
            "multiValueHeaders",
            "requestContext",
            "resource",
            "body",
            "httpMethod",
            "queryStringParameters",
            "stageVariables"
          ],
          "properties": {
            "headers": {
              "$ref": "#/components/schemas/Headers"
            },
            "multiValueHeaders": {
              "$ref": "#/components/schemas/MultiValueHeaders"
            },
            "multiValueQueryStringParameters": {
              "$ref": "#/components/schemas/MultiValueQueryStringParameters"
            },
            "pathParameters": {
              "$ref": "#/components/schemas/PathParameters"
            },
            "queryStringParameters": {
              "$ref": "#/components/schemas/QueryStringParameters"
            },
            "requestContext": {
              "$ref": "#/components/schemas/RequestContext"
            },
            "stageVariables": {
              "$ref": "#/components/schemas/StageVariables"
            },
            "body": {
              "type": "string"
            },
            "httpMethod": {
              "type": "string"
            },
            "isBase64Encoded": {
              "type": "boolean"
            },
            "path": {
              "type": "string"
            },
            "resource": {
              "type": "string"
            }
          }
        },
        "Headers": {
          "type": "object",
          "required": [
            "Accept",
            "CloudFront-Viewer-Country",
            "CloudFront-Forwarded-Proto",
            "CloudFront-Is-Tablet-Viewer",
            "CloudFront-Is-Mobile-Viewer",
            "User-Agent",
            "X-Forwarded-Proto",
            "CloudFront-Is-SmartTV-Viewer",
            "Host",
            "Accept-Encoding",
            "X-Forwarded-Port",
            "Via",
            "Cache-Control",
            "Upgrade-Insecure-Requests",
            "X-Amz-Cf-Id",
            "X-Forwarded-For",
            "Accept-Language",
            "CloudFront-Is-Desktop-Viewer"
          ],
          "properties": {
            "Accept": {
              "type": "string"
            },
            "Accept-Encoding": {
              "type": "string"
            },
            "Accept-Language": {
              "type": "string"
            },
            "Cache-Control": {
              "type": "string"
            },
            "CloudFront-Forwarded-Proto": {
              "type": "string"
            },
            "CloudFront-Is-Desktop-Viewer": {
              "type": "string"
            },
            "CloudFront-Is-Mobile-Viewer": {
              "type": "string"
            },
            "CloudFront-Is-SmartTV-Viewer": {
              "type": "string"
            },
            "CloudFront-Is-Tablet-Viewer": {
              "type": "string"
            },
            "CloudFront-Viewer-Country": {
              "type": "string"
            },
            "Host": {
              "type": "string"
            },
            "Upgrade-Insecure-Requests": {
              "type": "string"
            },
            "User-Agent": {
              "type": "string"
            },
            "Via": {
              "type": "string"
            },
            "X-Amz-Cf-Id": {
              "type": "string"
            },
            "X-Forwarded-For": {
              "type": "string"
            },
            "X-Forwarded-Port": {
              "type": "string"
            },
            "X-Forwarded-Proto": {
              "type": "string"
            }
          }
        },
        "MultiValueHeaders": {
          "type": "object",
          "required": [
            "Accept",
            "CloudFront-Viewer-Country",
            "CloudFront-Forwarded-Proto",
            "CloudFront-Is-Tablet-Viewer",
            "CloudFront-Is-Mobile-Viewer",
            "User-Agent",
            "X-Forwarded-Proto",
            "CloudFront-Is-SmartTV-Viewer",
            "Host",
            "Accept-Encoding",
            "X-Forwarded-Port",
            "Via",
            "Cache-Control",
            "Upgrade-Insecure-Requests",
            "X-Amz-Cf-Id",
            "X-Forwarded-For",
            "Accept-Language",
            "CloudFront-Is-Desktop-Viewer"
          ],
          "properties": {
            "Accept": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Accept-Encoding": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Accept-Language": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Cache-Control": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CloudFront-Forwarded-Proto": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CloudFront-Is-Desktop-Viewer": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CloudFront-Is-Mobile-Viewer": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CloudFront-Is-SmartTV-Viewer": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CloudFront-Is-Tablet-Viewer": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "CloudFront-Viewer-Country": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Host": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Upgrade-Insecure-Requests": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "User-Agent": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Via": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "X-Amz-Cf-Id": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "X-Forwarded-For": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "X-Forwarded-Port": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "X-Forwarded-Proto": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "MultiValueQueryStringParameters": {
          "type": "object",
          "required": [
            "foo"
          ],
          "properties": {
            "foo": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "PathParameters": {
          "type": "object",
          "properties": {
            "z": {
              "type": "string"
            }
          }
        },
        "QueryStringParameters": {
          "type": "object",
          "properties": {
            "s3PathRead": {
              "type": "string"
            },
            "msg": {
              "type": "string"
            },
            "y": {
              "type": "string"
            }
          }
        },
        "RequestContext": {
          "type": "object",
          "required": [
            "requestTime",
            "accountId",
            "path",
            "protocol",
            "resourceId",
            "stage",
            "requestTimeEpoch",
            "identity",
            "requestId",
            "resourcePath",
            "httpMethod",
            "apiId"
          ],
          "properties": {
            "identity": {
              "$ref": "#/components/schemas/Identity"
            },
            "accountId": {
              "type": "string"
            },
            "apiId": {
              "type": "string"
            },
            "httpMethod": {
              "type": "string"
            },
            "path": {
              "type": "string"
            },
            "protocol": {
              "type": "string"
            },
            "requestId": {
              "type": "string"
            },
            "requestTime": {
              "type": "string"
            },
            "requestTimeEpoch": {
              "type": "integer",
              "format": "int64"
            },
            "resourceId": {
              "type": "string"
            },
            "resourcePath": {
              "type": "string"
            },
            "stage": {
              "type": "string"
            }
          }
        },
        "StageVariables": {
          "type": "object",
          "required": [
            "baz"
          ],
          "properties": {
            "baz": {
              "type": "string"
            }
          }
        },
        "Identity": {
          "type": "object",
          "required": [
            "cognitoIdentityPoolId",
            "accountId",
            "cognitoIdentityId",
            "caller",
            "sourceIp",
            "accessKey",
            "cognitoAuthenticationType",
            "cognitoAuthenticationProvider",
            "userArn",
            "userAgent",
            "user"
          ],
          "properties": {
            "accessKey": {
              "type": "object",
              "nullable": true
            },
            "accountId": {
              "type": "object",
              "nullable": true
            },
            "caller": {
              "type": "object",
              "nullable": true
            },
            "cognitoAuthenticationProvider": {
              "type": "object",
              "nullable": true
            },
            "cognitoAuthenticationType": {
              "type": "object",
              "nullable": true
            },
            "cognitoIdentityId": {
              "type": "object",
              "nullable": true
            },
            "cognitoIdentityPoolId": {
              "type": "object",
              "nullable": true
            },
            "sourceIp": {
              "type": "string"
            },
            "user": {
              "type": "object",
              "nullable": true
            },
            "userAgent": {
              "type": "string"
            },
            "userArn": {
              "type": "object",
              "nullable": true
            }
          }
        }
      },
      "examples": {
        "test_pipeline_entry": {
          "value": {
            "body": "{\"x\":1}",
            "resource": "/{proxy+}",
            "path": "/path/to/resource",
            "httpMethod": "POST",
            "isBase64Encoded": true,
            "queryStringParameters": {
              "y": "2"
            },
            "multiValueQueryStringParameters": {
              "foo": [
                "bar"
              ]
            },
            "pathParameters": {
              "z": "3"
            },
            "stageVariables": {
              "baz": "qux"
            },
            "headers": {
              "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8",
              "Accept-Encoding": "gzip, deflate, sdch",
              "Accept-Language": "en-US,en;q=0.8",
              "Cache-Control": "max-age=0",
              "CloudFront-Forwarded-Proto": "https",
              "CloudFront-Is-Desktop-Viewer": "true",
              "CloudFront-Is-Mobile-Viewer": "false",
              "CloudFront-Is-SmartTV-Viewer": "false",
              "CloudFront-Is-Tablet-Viewer": "false",
              "CloudFront-Viewer-Country": "US",
              "Host": "1234567890.execute-api.us-east-1.amazonaws.com",
              "Upgrade-Insecure-Requests": "1",
              "User-Agent": "Custom User Agent String",
              "Via": "1.1 08f323deadbeefa7af34d5feb414ce27.cloudfront.net (CloudFront)",
              "X-Amz-Cf-Id": "cDehVQoZnx43VYQb9j2-nvCh-9z396Uhbp027Y2JvkCPNLmGJHqlaA==",
              "X-Forwarded-For": "127.0.0.1, 127.0.0.2",
              "X-Forwarded-Port": "443",
              "X-Forwarded-Proto": "https"
            },
            "multiValueHeaders": {
              "Accept": [
                "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"
              ],
              "Accept-Encoding": [
                "gzip, deflate, sdch"
              ],
              "Accept-Language": [
                "en-US,en;q=0.8"
              ],
              "Cache-Control": [
                "max-age=0"
              ],
              "CloudFront-Forwarded-Proto": [
                "https"
              ],
              "CloudFront-Is-Desktop-Viewer": [
                "true"
              ],
              "CloudFront-Is-Mobile-Viewer": [
                "false"
              ],
              "CloudFront-Is-SmartTV-Viewer": [
                "false"
              ],
              "CloudFront-Is-Tablet-Viewer": [
                "false"
              ],
              "CloudFront-Viewer-Country": [
                "US"
              ],
              "Host": [
                "0123456789.execute-api.us-east-1.amazonaws.com"
              ],
              "Upgrade-Insecure-Requests": [
                "1"
              ],
              "User-Agent": [
                "Custom User Agent String"
              ],
              "Via": [
                "1.1 08f323deadbeefa7af34d5feb414ce27.cloudfront.net (CloudFront)"
              ],
              "X-Amz-Cf-Id": [
                "cDehVQoZnx43VYQb9j2-nvCh-9z396Uhbp027Y2JvkCPNLmGJHqlaA=="
              ],
              "X-Forwarded-For": [
                "127.0.0.1, 127.0.0.2"
              ],
              "X-Forwarded-Port": [
                "443"
              ],
              "X-Forwarded-Proto": [
                "https"
              ]
            },
            "requestContext": {
              "accountId": "123456789012",
              "resourceId": "123456",
              "stage": "prod",
              "requestId": "c6af9ac6-7b61-11e6-9a41-93e8deadbeef",
              "requestTime": "09/Apr/2015:12:34:56 +0000",
              "requestTimeEpoch": 1428582896000,
              "identity": {
                "cognitoIdentityPoolId": null,
                "accountId": null,
                "cognitoIdentityId": null,
                "caller": null,
                "accessKey": null,
                "sourceIp": "127.0.0.1",
                "cognitoAuthenticationType": null,
                "cognitoAuthenticationProvider": null,
                "userArn": null,
                "userAgent": "Custom User Agent String",
                "user": null
              },
              "path": "/prod/path/to/resource",
              "resourcePath": "/{proxy+}",
              "httpMethod": "POST",
              "apiId": "1234567890",
              "protocol": "HTTP/1.1"
            }
          }
        },
        "test_s3_access": {
          "value": {
            "body": "{}",
            "resource": "/{proxy+}",
            "path": "/path/to/resource",
            "httpMethod": "POST",
            "isBase64Encoded": true,
            "queryStringParameters": {
              "s3PathRead": "test_input.json",
              "msg": "called from lambda test"
            },
            "multiValueQueryStringParameters": {
              "foo": [
                "bar"
              ]
            },
            "pathParameters": {},
            "stageVariables": {
              "baz": "qux"
            },
            "headers": {
              "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8",
              "Accept-Encoding": "gzip, deflate, sdch",
              "Accept-Language": "en-US,en;q=0.8",
              "Cache-Control": "max-age=0",
              "CloudFront-Forwarded-Proto": "https",
              "CloudFront-Is-Desktop-Viewer": "true",
              "CloudFront-Is-Mobile-Viewer": "false",
              "CloudFront-Is-SmartTV-Viewer": "false",
              "CloudFront-Is-Tablet-Viewer": "false",
              "CloudFront-Viewer-Country": "US",
              "Host": "1234567890.execute-api.us-east-1.amazonaws.com",
              "Upgrade-Insecure-Requests": "1",
              "User-Agent": "Custom User Agent String",
              "Via": "1.1 08f323deadbeefa7af34d5feb414ce27.cloudfront.net (CloudFront)",
              "X-Amz-Cf-Id": "cDehVQoZnx43VYQb9j2-nvCh-9z396Uhbp027Y2JvkCPNLmGJHqlaA==",
              "X-Forwarded-For": "127.0.0.1, 127.0.0.2",
              "X-Forwarded-Port": "443",
              "X-Forwarded-Proto": "https"
            },
            "multiValueHeaders": {
              "Accept": [
                "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"
              ],
              "Accept-Encoding": [
                "gzip, deflate, sdch"
              ],
              "Accept-Language": [
                "en-US,en;q=0.8"
              ],
              "Cache-Control": [
                "max-age=0"
              ],
              "CloudFront-Forwarded-Proto": [
                "https"
              ],
              "CloudFront-Is-Desktop-Viewer": [
                "true"
              ],
              "CloudFront-Is-Mobile-Viewer": [
                "false"
              ],
              "CloudFront-Is-SmartTV-Viewer": [
                "false"
              ],
              "CloudFront-Is-Tablet-Viewer": [
                "false"
              ],
              "CloudFront-Viewer-Country": [
                "US"
              ],
              "Host": [
                "0123456789.execute-api.us-east-1.amazonaws.com"
              ],
              "Upgrade-Insecure-Requests": [
                "1"
              ],
              "User-Agent": [
                "Custom User Agent String"
              ],
              "Via": [
                "1.1 08f323deadbeefa7af34d5feb414ce27.cloudfront.net (CloudFront)"
              ],
              "X-Amz-Cf-Id": [
                "cDehVQoZnx43VYQb9j2-nvCh-9z396Uhbp027Y2JvkCPNLmGJHqlaA=="
              ],
              "X-Forwarded-For": [
                "127.0.0.1, 127.0.0.2"
              ],
              "X-Forwarded-Port": [
                "443"
              ],
              "X-Forwarded-Proto": [
                "https"
              ]
            },
            "requestContext": {
              "accountId": "123456789012",
              "resourceId": "123456",
              "stage": "prod",
              "requestId": "c6af9ac6-7b61-11e6-9a41-93e8deadbeef",
              "requestTime": "09/Apr/2015:12:34:56 +0000",
              "requestTimeEpoch": 1428582896000,
              "identity": {
                "cognitoIdentityPoolId": null,
                "accountId": null,
                "cognitoIdentityId": null,
                "caller": null,
                "accessKey": null,
                "sourceIp": "127.0.0.1",
                "cognitoAuthenticationType": null,
                "cognitoAuthenticationProvider": null,
                "userArn": null,
                "userAgent": "Custom User Agent String",
                "user": null
              },
              "path": "/prod/path/to/resource",
              "resourcePath": "/{proxy+}",
              "httpMethod": "POST",
              "apiId": "1234567890",
              "protocol": "HTTP/1.1"
            }
          }
        }
      }
    }
  }