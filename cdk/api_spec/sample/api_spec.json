{
    "name": "sample-api",
    "default_runtime": "PYTHON_3_13",
    "stage": {
        "$default": {
            "branch": "main",
            "bucket": "{$account}-{$api}"
        },
        "dev": {
            "branch": "dev",
            "bucket": "{$account}-{$api}"
        },
        "test": {
            "branch": "test",
            "bucket": "{$account}-{$api}-test"
        }
    },
    "s3": {
        "{$account}-{$api}": {
            "public_read": false
        },
        "{$account}-{$api}-test": {
            "public_read": false
        }
    },
    "apigw": {
        "description": "api for calling sample lambdas",
        "route": {
            "pipeline_entry": [
                "ANY /pipeline_entry",
                "ANY /pipeline_entry/{z}"
            ],
            "s3_access": [
                "ANY /s3_access"
            ],
            "echo": [
                "ANY /echo/{path1}/{path2}",
                "ANY /echo/{path1}",
                "ANY /echo"
            ],
            "numpy": [
                "ANY /numpy",
                "ANY /numpy/{z}"
            ]
        }
    },
    "sns": {
        "amplify_state_change": {
            "description": "CI/CDç”¨",
            "lambda": [
                "notify_teams"
            ]
        }
    },
    "lambda_func": {
        "pipeline_entry": {
            "code": "src_lambda/pipeline_entry/src",
            "timeout": 3,
            "queue_next": "pipeline_process"
        },
        "pipeline_process": {
            "code": "src_lambda/pipeline_process/src",
            "timeout": 10,
            "queue": {
                "additional_timeout": 10
            }
        },
        "s3_access": {
            "code": "src_lambda/s3_access/src",
            "timeout": 10
        },
        "echo": {
            "code": "src_lambda/echo/src",
            "timeout": 3,
            "queue": {
                "additional_timeout": 10
            }
        },
        "called_by_batch": {
            "code": "src_lambda/called_by_batch/src",
            "timeout": 3
        },
        "numpy": {
            "code": "src_lambda/numpy/src",
            "timeout": 3,
            "layer_list": [
                "pandas_python313"
            ]
        },
        "notify_teams": {
            "code": "src_lambda/notify_teams/src",
            "timeout": 3
        }
    },
    "batch_func": {
        "convert": {
            "queue_state_lambda": "called_by_batch",
            "maxv_cpus": 40,
            "memory": 8192,
            "vcpu": 4
        }
    },
    "ref": {
        "lambda_layer": {
            "pandas_python313": "arn:aws:lambda:ap-northeast-1:336392948345:layer:AWSSDKPandas-Python313:4",
            "pandas_python312": "arn:aws:lambda:ap-northeast-1:336392948345:layer:AWSSDKPandas-Python312:19"
        },
        "vpc": {
            "subnet_id_list": [],
            "security_group_id": ""
        }
    }
}